# Шифр ограждения рельсов

**Шифр ограждения рельсов** (также называемый зигзагообразным шифром) - это [транспозиционный шифр](https://en.wikipedia.org/wiki/Transposition_cipher), в котором сообщение разбивается на несколько рельсов для кодирования. Ограждение заполняется символами сообщения, начиная с верхнего левого угла и добавляя по символу в каждую позицию, пересекая их по диагонали до самого низа. Дойдя до последней рельсы, поверните по диагонали и зигзагообразными движениями направьте надпись вверх до самой первой рельсы. Повторяйте, пока надпись полностью не расположится поперек ограждения. Закодированное сообщение является результатом объединения текста на каждом рельсе сверху вниз.

Из [Википедии](https://en.wikipedia.org/wiki/Rail_fence_cipher) вот как выглядит сообщение `WE ARE DISCOVERED. FLEE AT ONCE` на ограждении из `3` рельсов:

```
W . . . E . . . C . . . R . . . L . . . T . . . E
. E . R . D . S . O . E . E . F . E . A . O . C .
. . A . . . I . . . V . . . D . . . E . . . N . .
-------------------------------------------------
             WECRLTEERDSOEEFEAOCAIVDEN
```

Затем сообщение может быть расшифровано путем повторного создания закодированного ограждения с той же схемой обхода, за исключением того, что символы следует добавлять только к одному рельсу за раз. Чтобы проиллюстрировать это, можно добавить прочерк на рельсах, которые еще не должны быть заполнены. Вот как будет выглядеть забор после заполнения первого ограждения, черточки обозначают позиции, которые были посещены, но не заполнены.

```
W . . . E . . . C . . . R . . . L . . . T . . . E
. - . - . - . - . - . - . - . - . - . - . - . - .
. . - . . . - . . . - . . . - . . . - . . . - . .
```

Как только количество посещенных позиций ограждения сравняется с количеством символов в сообщении, можно приступать к заполнению следующего рельса.

## Ссылки

- [Шифр ограждения рельсов в Википедии](https://en.wikipedia.org/wiki/Rail_fence_cipher)
- [Калькулятор шифа ограждения рельсов](https://crypto.interactive-maths.com/rail-fence-cipher.html)
